import{e as b,i as y,r as x,j as e,a as h}from"./index-CYuisF0z.js";import{u as f}from"./index.esm-JPGs0xX-.js";const o={income:{title:"Categoría para ingresos",description:"Usa categorías para clasificar tus ingresos y analizarlos con mayor claridad.",returnPath:"/incomes"},expense:{title:"Categoría para gastos",description:"Agrupa tus gastos para entender mejor tus hábitos y presupuestos.",returnPath:"/expenses"}};function S(){const a=b(),[n]=y(),r=n.get("type")==="expense"?"expense":"income",t=n.get("returnTo")||o[r].returnPath,[i,l]=x.useState(null),{register:c,handleSubmit:p,formState:{isSubmitting:d}}=f({defaultValues:{name:""}}),m=async u=>{try{await h("/categories",{method:"POST",body:{name:u.name,type:r}}),a(t,{replace:!0})}catch(s){console.error(s);const g=s.payload?.message??s.message??"No se pudo crear la categoría";l(g)}};return e.jsxs("section",{style:{maxWidth:"560px",margin:"0 auto",padding:"2rem 1rem",display:"grid",gap:"2rem"},children:[e.jsxs("header",{style:{display:"grid",gap:"0.5rem"},children:[e.jsx("button",{type:"button",onClick:()=>a(t),style:{justifySelf:"start",padding:"0.5rem 0.75rem",borderRadius:"0.5rem",border:"1px solid #d1d5db",backgroundColor:"#fff",cursor:"pointer"},children:"← Volver"}),e.jsxs("div",{children:[e.jsx("h2",{style:{marginBottom:"0.25rem"},children:o[r].title}),e.jsx("p",{style:{margin:0,color:"#6b7280"},children:o[r].description})]})]}),e.jsxs("form",{onSubmit:p(m),style:{backgroundColor:"#fff",borderRadius:"1rem",padding:"2rem",boxShadow:"0 12px 30px rgba(15, 23, 42, 0.08)",display:"grid",gap:"1.5rem"},children:[e.jsxs("label",{style:{display:"grid",gap:"0.5rem"},children:[e.jsx("span",{children:"Nombre de la categoría"}),e.jsx("input",{type:"text",placeholder:r==="income"?"Salario, freelance...":"Renta, alimentación...",required:!0,...c("name"),style:{padding:"0.75rem",borderRadius:"0.75rem",border:"1px solid #d1d5db"}})]}),i?e.jsx("p",{style:{color:"#dc2626",margin:0},children:i}):null,e.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[e.jsx("button",{type:"submit",disabled:d,style:{padding:"0.75rem 1.25rem",borderRadius:"0.75rem",border:"none",backgroundColor:"#10b981",color:"#fff",fontWeight:600,cursor:"pointer"},children:d?"Guardando...":"Crear categoría"}),e.jsx("button",{type:"button",onClick:()=>a(t),style:{padding:"0.75rem 1.25rem",borderRadius:"0.75rem",border:"1px solid #d1d5db",backgroundColor:"#fff",fontWeight:600,cursor:"pointer"},children:"Cancelar"})]})]})]})}export{S as default};
